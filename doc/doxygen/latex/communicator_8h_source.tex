\doxysection{communicator.\+h}
\hypertarget{communicator_8h_source}{}\label{communicator_8h_source}\index{include/api/network/communicator.h@{include/api/network/communicator.h}}
\mbox{\hyperlink{communicator_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ COMMUNICATOR\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ COMMUNICATOR\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <cstring>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <atomic>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{traits_8h}{api/traits.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{message_8h}{api/network/message.h}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{observer_8h}{api/util/observer.h}}"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{debug_8h}{api/util/debug.h}}"{}}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Channel>}
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_communicator_aa524b1a5d7470c99da967898d9ed2ff2}{Communicator}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_concurrent___observer_a97e91bd686c32f17f73d971b29fbf835}{Concurrent\_Observer}}<typename\ Channel::Observer::Observed\_Data,\ typename\ Channel::Observer::Observing\_Condition>}
\DoxyCodeLine{00016\ \{}
\DoxyCodeLine{00017\ \ \ \ \ }
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_concurrent___observer_a97e91bd686c32f17f73d971b29fbf835}{Concurrent\_Observer<typename\ Channel::Observer::Observed\_Data,\ typename\ Channel::Observer::Observing\_Condition>}}\ \mbox{\hyperlink{class_communicator_ab72912032a4ff8b222c1ae09dcf64254}{Observer}};}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Channel::Buffer\ \mbox{\hyperlink{class_communicator_a4eeb6883f7ff2f4ed249181737d4678b}{Buffer}};}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Channel::Address\ \mbox{\hyperlink{class_communicator_af94211e0ba84bea53416f4a94f54cc66}{Address}};}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Channel::Port\ \mbox{\hyperlink{class_communicator_a963a6f4674b436afce66a15518919ede}{Port}};}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_message}{Message<Channel>}}\ \mbox{\hyperlink{class_communicator_a99cb97795d5a97176898095bd6ab67c6}{Message\_T}};}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_communicator_a8bd4d44f6d58e69b13988919397fbb6e}{MAX\_MESSAGE\_SIZE}}\ =\ Channel::MTU;\ \textcolor{comment}{//\ Maximum\ message\ size\ in\ bytes}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Constructor\ and\ Destructor}}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_communicator_aa524b1a5d7470c99da967898d9ed2ff2}{Communicator}}(Channel*\ channel,\ \mbox{\hyperlink{class_communicator_af94211e0ba84bea53416f4a94f54cc66}{Address}}\ \mbox{\hyperlink{class_communicator_a6a36e03ee1f2c5778ea859cbf2ab93b0}{address}});}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_communicator_a5d7aa945e4a5fa0031dbcfc3afd28d4d}{\string~Communicator}}();}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Communication\ methods}}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_communicator_a7bad30ec63e0b5b0b2138702549191ae}{send}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_communicator_a99cb97795d5a97176898095bd6ab67c6}{Message\_T}}*\ message);}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_communicator_a37470a32c261ce0d05501348bd28d0c0}{receive}}(\mbox{\hyperlink{class_communicator_a99cb97795d5a97176898095bd6ab67c6}{Message\_T}}*\ message);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Address\ getter}}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_communicator_af94211e0ba84bea53416f4a94f54cc66}{Address}}\&\ \mbox{\hyperlink{class_communicator_a6a36e03ee1f2c5778ea859cbf2ab93b0}{address}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Release\ thread\ waiting\ for\ buffer}}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_communicator_aac6c603dab3586e8a4d76bc952290ce7}{release}}();}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Atomic\ variable\ running}}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ std::atomic<bool>\ \mbox{\hyperlink{class_communicator_add2399b5fa321a94edd31c436883bceb}{\_running}};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Deleted\ copy\ constructor\ and\ assignment\ operator\ to\ prevent\ copying}}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_communicator_a05401a8da69303fba9f2b3769c341ad3}{Communicator}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_communicator_aa524b1a5d7470c99da967898d9ed2ff2}{Communicator}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_communicator_aa524b1a5d7470c99da967898d9ed2ff2}{Communicator}}\&\ \mbox{\hyperlink{class_communicator_ae5dbec0885049f4d90f71576497395e1}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_communicator_aa524b1a5d7470c99da967898d9ed2ff2}{Communicator}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{class_concurrent___observer_a44a610e26d760bd97bbfbdc90ca5cf2c}{Observer::update}};}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ method\ for\ Observer\ pattern}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ update(\textcolor{keyword}{typename}\ Channel::Observed*\ obs,\ \textcolor{keyword}{typename}\ Channel::Observer::Observing\_Condition\ c,\ \mbox{\hyperlink{class_communicator_a4eeb6883f7ff2f4ed249181737d4678b}{Buffer}}*\ buf);}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ Channel*\ \_channel;}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_communicator_af94211e0ba84bea53416f4a94f54cc66}{Address}}\ \_address;}
\DoxyCodeLine{00056\ \};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \textcolor{comment}{/***************\ Communicator\ Implementation\ *****************/}}
\DoxyCodeLine{00059\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Channel>}
\DoxyCodeLine{00060\ \mbox{\hyperlink{class_communicator_aa524b1a5d7470c99da967898d9ed2ff2}{Communicator<Channel>::Communicator}}(Channel*\ channel,\ \mbox{\hyperlink{class_communicator_af94211e0ba84bea53416f4a94f54cc66}{Address}}\ \mbox{\hyperlink{class_communicator_a6a36e03ee1f2c5778ea859cbf2ab93b0}{address}})\ :\ \mbox{\hyperlink{class_communicator_ab72912032a4ff8b222c1ae09dcf64254}{Observer}}(\mbox{\hyperlink{class_communicator_a6a36e03ee1f2c5778ea859cbf2ab93b0}{address}}.port()),\ \_address(\mbox{\hyperlink{class_communicator_a6a36e03ee1f2c5778ea859cbf2ab93b0}{address}})\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordflow}{if}\ (!channel)}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::invalid\_argument(\textcolor{stringliteral}{"{}Channel\ cannot\ be\ null"{}});}
\DoxyCodeLine{00063\ \ \ \ \ }
\DoxyCodeLine{00064\ \ \ \ \ \_channel\ =\ channel;}
\DoxyCodeLine{00065\ \ \ \ \ \_channel-\/>attach(\textcolor{keyword}{this},\ \mbox{\hyperlink{class_communicator_a6a36e03ee1f2c5778ea859cbf2ab93b0}{address}});}
\DoxyCodeLine{00066\ \ \ \ \ \mbox{\hyperlink{class_communicator_add2399b5fa321a94edd31c436883bceb}{\_running}}.store(\textcolor{keyword}{true},\ std::memory\_order\_release);}
\DoxyCodeLine{00067\ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Channel>}
\DoxyCodeLine{00070\ \mbox{\hyperlink{class_communicator_a5d7aa945e4a5fa0031dbcfc3afd28d4d}{Communicator<Channel>::\string~Communicator}}()\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \mbox{\hyperlink{debug_8h_a660fc0a5d907ebe2af475e96bd544090}{db<Communicator>}}(\mbox{\hyperlink{debug_8h_a897a262bdd244180d7aba71cd004b747a067c599a4252b028fe5ee215b368df1c}{TRC}})\ <<\ \textcolor{stringliteral}{"{}Communicator<Channel>::\string~Communicator()\ called\ for\ address:\ "{}}\ <<\ \_address.to\_string()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00072\ \ \ \ \ }
\DoxyCodeLine{00073\ \ \ \ \ \_channel-\/>detach(\textcolor{keyword}{this},\ \_address);}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{debug_8h_a660fc0a5d907ebe2af475e96bd544090}{db<Communicator>}}(\mbox{\hyperlink{debug_8h_a652e158e58e6fa8494e9137c8dafcf94a2e6059d72d8fde88f3127eb147e4eff8}{INF}})\ <<\ \textcolor{stringliteral}{"{}[Communicator]\ Channel\ detached\ from\ address:\ "{}}\ <<\ \_address.to\_string()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Channel>}
\DoxyCodeLine{00078\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_communicator_a7bad30ec63e0b5b0b2138702549191ae}{Communicator<Channel>::send}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_communicator_a99cb97795d5a97176898095bd6ab67c6}{Message\_T}}*\ message)\ \{}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{debug_8h_a660fc0a5d907ebe2af475e96bd544090}{db<Communicator>}}(\mbox{\hyperlink{debug_8h_a897a262bdd244180d7aba71cd004b747a067c599a4252b028fe5ee215b368df1c}{TRC}})\ <<\ \textcolor{stringliteral}{"{}Communicator<Channel>::send()\ called!\(\backslash\)n"{}};}
\DoxyCodeLine{00080\ \ \ \ \ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_communicator_add2399b5fa321a94edd31c436883bceb}{\_running}}.load(std::memory\_order\_acquire))\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{debug_8h_a660fc0a5d907ebe2af475e96bd544090}{db<Communicator>}}(\mbox{\hyperlink{debug_8h_a8a0be1d967a291a31bad4b5fa07afe76ab707f7db5c95d4366940103f50fae3a8}{WRN}})\ <<\ \textcolor{stringliteral}{"{}[Communicator]\ Not\ running,\ skipping\ send!\(\backslash\)n"{}};}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00084\ \ \ \ \ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{int}\ result\ =\ \_channel-\/>send(\_address,\ Address::BROADCAST,\ message-\/>\mbox{\hyperlink{class_message_af4a12921a8a6818b391da4ebc0ee0d4d}{data}}(),\ message-\/>\mbox{\hyperlink{class_message_ac1ea18ca0f925dc5f5ce79a5eca8796f}{size}}());}
\DoxyCodeLine{00087\ \ \ \ \ \mbox{\hyperlink{debug_8h_a660fc0a5d907ebe2af475e96bd544090}{db<Communicator>}}(\mbox{\hyperlink{debug_8h_a652e158e58e6fa8494e9137c8dafcf94a2e6059d72d8fde88f3127eb147e4eff8}{INF}})\ <<\ \textcolor{stringliteral}{"{}[Communicator]\ Channel::send()\ return\ value\ "{}}\ <<\ std::to\_string(result)\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00088\ \ \ \ \ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00090\ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Channel>}
\DoxyCodeLine{00093\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_communicator_a37470a32c261ce0d05501348bd28d0c0}{Communicator<Channel>::receive}}(\mbox{\hyperlink{class_communicator_a99cb97795d5a97176898095bd6ab67c6}{Message\_T}}*\ message)\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{debug_8h_a660fc0a5d907ebe2af475e96bd544090}{db<Communicator>}}(\mbox{\hyperlink{debug_8h_a897a262bdd244180d7aba71cd004b747a067c599a4252b028fe5ee215b368df1c}{TRC}})\ <<\ \textcolor{stringliteral}{"{}Communicator<Channel>::receive()\ called!\(\backslash\)n"{}};}
\DoxyCodeLine{00095\ \ \ \ \ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_communicator_add2399b5fa321a94edd31c436883bceb}{\_running}}.load(std::memory\_order\_acquire))\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{debug_8h_a660fc0a5d907ebe2af475e96bd544090}{db<Communicator>}}(\mbox{\hyperlink{debug_8h_a8a0be1d967a291a31bad4b5fa07afe76ab707f7db5c95d4366940103f50fae3a8}{WRN}})\ <<\ \textcolor{stringliteral}{"{}[Communicator]\ Not\ running,\ skipping\ receive!\(\backslash\)n"{}};}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00099\ \ \ \ \ \}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \mbox{\hyperlink{class_communicator_a4eeb6883f7ff2f4ed249181737d4678b}{Buffer}}*\ buf\ =\ \mbox{\hyperlink{class_concurrent___observer_a3e04ae68a99e56ea92c1690333b186eb}{Observer::updated}}();}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{if}\ (!buf)\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{debug_8h_a660fc0a5d907ebe2af475e96bd544090}{db<Communicator>}}(\mbox{\hyperlink{debug_8h_a8a0be1d967a291a31bad4b5fa07afe76ab707f7db5c95d4366940103f50fae3a8}{WRN}})\ <<\ \textcolor{stringliteral}{"{}[Communicator]\ No\ buffer\ available\ for\ receiving\ message!\(\backslash\)n"{}};}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ std::uint8\_t\ temp\_data[\mbox{\hyperlink{class_communicator_a8bd4d44f6d58e69b13988919397fbb6e}{MAX\_MESSAGE\_SIZE}}];}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{int}\ result\ =\ \_channel-\/>receive(buf,\ \textcolor{keyword}{nullptr},\ temp\_data,\ buf-\/>\mbox{\hyperlink{class_buffer_a2240a2d73d91c05ba18a3d4083282f62}{size}}());\ \textcolor{comment}{//\ Assuming\ Channel::receive\ fills\ 'from'}}
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{debug_8h_a660fc0a5d907ebe2af475e96bd544090}{db<Communicator>}}(\mbox{\hyperlink{debug_8h_a652e158e58e6fa8494e9137c8dafcf94a2e6059d72d8fde88f3127eb147e4eff8}{INF}})\ <<\ \textcolor{stringliteral}{"{}[Communicator]\ Channel::receive()\ returned\ "{}}\ <<\ result\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ <=\ 0)}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{comment}{//\ Deserialize\ the\ raw\ data\ into\ the\ message}}
\DoxyCodeLine{00116\ \ \ \ \ *message\ =\ \mbox{\hyperlink{class_message_ab8169b9a5a41c7aecf8c2b65a864643d}{Message\_T::deserialize}}(temp\_data,\ result);}
\DoxyCodeLine{00117\ \ \ \ \ \mbox{\hyperlink{debug_8h_a660fc0a5d907ebe2af475e96bd544090}{db<Communicator>}}(\mbox{\hyperlink{debug_8h_a652e158e58e6fa8494e9137c8dafcf94a2e6059d72d8fde88f3127eb147e4eff8}{INF}})\ <<\ \textcolor{stringliteral}{"{}[Communicator]\ Received\ message\ from:\ "{}}\ <<\ message-\/>\mbox{\hyperlink{class_message_aa3290cab595b83a90309002d03379d58}{origin}}().to\_string()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00120\ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Channel>}
\DoxyCodeLine{00123\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_communicator_aac6c603dab3586e8a4d76bc952290ce7}{Communicator<Channel>::release}}()\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \mbox{\hyperlink{class_communicator_add2399b5fa321a94edd31c436883bceb}{\_running}}.store(\textcolor{keyword}{false},\ std::memory\_order\_release);}
\DoxyCodeLine{00125\ \ \ \ \ update(\textcolor{keyword}{nullptr},\ this-\/>\mbox{\hyperlink{class_conditional___data___observer_a3874329125ab0c3e3675ccd0ad1729b6}{rank}}(),\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00126\ \}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Channel>}
\DoxyCodeLine{00129\ \textcolor{keywordtype}{void}\ Communicator<Channel>::update(\textcolor{keyword}{typename}\ Channel::Observed*\ obs,\ \textcolor{keyword}{typename}\ Channel::Observer::Observing\_Condition\ c,\ \mbox{\hyperlink{class_buffer}{Buffer}}*\ buf)\ \{}
\DoxyCodeLine{00130\ \ \ \ \ Observer::update(c,\ buf);\ \textcolor{comment}{//\ releases\ the\ thread\ waiting\ for\ data}}
\DoxyCodeLine{00131\ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Channel>}
\DoxyCodeLine{00134\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_communicator_af94211e0ba84bea53416f4a94f54cc66}{Communicator<Channel>::Address}}\&\ \mbox{\hyperlink{class_communicator_a6a36e03ee1f2c5778ea859cbf2ab93b0}{Communicator<Channel>::address}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{return}\ \_address;}
\DoxyCodeLine{00136\ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ COMMUNICATOR\_H}}

\end{DoxyCode}
