Found issues in the following include files:
  basic_consumer.h: 8 issues
    - basic_consumer.h:71
    - basic_consumer.h:153
  basic_producer.h: 642 issues
    - basic_producer.h:22
    - basic_producer.h:58
    - basic_producer.h:71
    - basic_producer.h:76
    - basic_producer.h:89
    - basic_producer.h:98
    - basic_producer.h:103
    - basic_producer.h:104
    - basic_producer.h:119
    - basic_producer.h:120
    - basic_producer.h:122
    - basic_producer.h:123
  buffer.h: 20 issues
    - buffer.h:50
    - buffer.h:67
  communicator.h: 398 issues
    - communicator.h:117
    - communicator.h:134
    - communicator.h:172
    - communicator.h:220
    - communicator.h:286
    - communicator.h:301
    - communicator.h:302
    - communicator.h:304
    - communicator.h:312
    - communicator.h:334
    - communicator.h:336
  component.h: 1135 issues
    - component.h:158
    - component.h:169
    - component.h:186
    - component.h:265
    - component.h:290
    - component.h:294
    - component.h:295
    - component.h:299
    - component.h:306
    - component.h:324
    - component.h:332
    - component.h:337
    - component.h:413
    - component.h:417
    - component.h:426
    - component.h:451
    - component.h:470
    - component.h:515
    - component.h:524
    - component.h:605
    - component.h:672
    - component.h:702
    - component.h:705
    - component.h:740
    - component.h:755
    - component.h:762
    - component.h:765
    - component.h:768
    - component.h:771
    - component.h:773
    - component.h:776
    - component.h:777
  ethernet.h: 10 issues
    - ethernet.h:58
  gateway_component.h: 405 issues
    - gateway_component.h:68
    - gateway_component.h:72
    - gateway_component.h:85
    - gateway_component.h:88
    - gateway_component.h:117
    - gateway_component.h:160
    - gateway_component.h:200
  initializer.h: 108 issues
    - initializer.h:48
    - initializer.h:56
  list.h: 195 issues
    - list.h:46
    - list.h:47
    - list.h:70
    - list.h:71
    - list.h:82
  nic.h: 532 issues
    - nic.h:101
    - nic.h:120
    - nic.h:155
    - nic.h:171
    - nic.h:251
    - nic.h:268
    - nic.h:285
    - nic.h:292
    - nic.h:313
    - nic.h:365
    - nic.h:389
    - nic.h:395
    - nic.h:438
    - nic.h:439
  observed.h: 734 issues
    - observed.h:50
    - observed.h:66
    - observed.h:67
    - observed.h:68
  observer.h: 116 issues
    - observer.h:29
    - observer.h:96
    - observer.h:101
  protocol.h: 567 issues
    - protocol.h:148
    - protocol.h:149
    - protocol.h:161
    - protocol.h:200
    - protocol.h:231
    - protocol.h:293
    - protocol.h:327
    - protocol.h:366
    - protocol.h:381
  sharedMemoryEngine.h: 67 issues
    - sharedMemoryEngine.h:55
    - sharedMemoryEngine.h:57
  socketEngine.h: 595 issues
    - socketEngine.h:82
    - socketEngine.h:266
    - socketEngine.h:314
  vehicle.h: 984 issues
    - vehicle.h:103
    - vehicle.h:113
    - vehicle.h:116
    - vehicle.h:132
    - vehicle.h:136
    - vehicle.h:148
    - vehicle.h:175
    - vehicle.h:191
    - vehicle.h:203
    - vehicle.h:215
================================================================================

=== Issue in basic_consumer.h:153 ===
==3438136== 
==3438136== Possible data race during read of size 1 at 0x4F7F811 by thread #3
==3438136== Locks held: none
==3438136==    at 0x49C30E6: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438136==    by 0x11C24A: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3438136==    by 0x11B74F: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3438136==    by 0x125276: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438136==    by 0x12495C: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438136==    by 0x124175: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438136==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438136==    by 0x131E15: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:334)
==3438136==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438136==    by 0x141E52: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3438136==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438136==    by 0x1426A6: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3438136==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3438136==    by 0x137727: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3438136==    by 0x132B3C: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3438136==    by 0x12B1F0: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3438136==    by 0x11DF87: GatewayComponent::run() (gateway_component.h:200)
==3438136==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438136==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438136==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438136==    by 0x4CDEA03: clone (clone.S:100)
==3438136== 
==3438136== This conflicts with a previous write of size 1 by thread #1
==3438136== Locks held: none
==3438136==    at 0x49C31C8: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438136==    by 0x1153BC: Component::send_interest_message() (component.h:524)
==3438136==    by 0x113149: Component::start() (component.h:337)
==3438136==    by 0x119E58: Vehicle::start_components() (vehicle.h:215)
==3438136==    by 0x1194D0: Vehicle::start() (vehicle.h:148)
==3438136==    by 0x12214F: run_vehicle(Vehicle*) (demo.cpp:79)
==3438136==    by 0x122DD1: main (demo.cpp:168)
==3438136==  Address 0x4f7f811 is 625 bytes inside a block of size 872 alloc'd
==3438136==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438136==    by 0x1350CC: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438136==    by 0x12F11F: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438136==    by 0x1220BE: run_vehicle(Vehicle*) (demo.cpp:75)
==3438136==    by 0x122DD1: main (demo.cpp:168)
==3438136==  Block was alloc'd by thread #1
==3438136== 
==3438136== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
==3438136== 
==3438136== Possible data race during read of size 1 at 0x4F7F811 by thread #3
==3438136== Locks held: none
==3438136==    at 0x49C30E6: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438136==    by 0x11C24A: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3438136==    by 0x11B74F: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3438136==    by 0x125276: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438136==    by 0x12495C: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438136==    by 0x124175: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438136==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438136==    by 0x131E15: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:334)
==3438136==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438136==    by 0x141E52: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3438136==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438136==    by 0x1426A6: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3438136==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3438136==    by 0x137727: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3438136==    by 0x132B3C: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3438136==    by 0x12B1F0: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3438136==    by 0x11DF87: GatewayComponent::run() (gateway_component.h:200)
==3438136==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438136==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438136==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438136==    by 0x4CDEA03: clone (clone.S:100)
==3438136== 
==3438136== This conflicts with a previous write of size 1 by thread #1
==3438136== Locks held: none
==3438136==    at 0x49C31C8: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438136==    by 0x1153BC: Component::send_interest_message() (component.h:524)
==3438136==    by 0x113149: Component::start() (component.h:337)
==3438136==    by 0x119E58: Vehicle::start_components() (vehicle.h:215)
==3438136==    by 0x1194D0: Vehicle::start() (vehicle.h:148)
==3438136==    by 0x12214F: run_vehicle(Vehicle*) (demo.cpp:79)
==3438136==    by 0x122DD1: main (demo.cpp:168)
==3438136==  Address 0x4f7f811 is 625 bytes inside a block of size 872 alloc'd
==3438136==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438136==    by 0x1350CC: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438136==    by 0x12F11F: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438136==    by 0x1220BE: run_vehicle(Vehicle*) (demo.cpp:75)
==3438136==    by 0x122DD1: main (demo.cpp:168)
==3438136==  Block was alloc'd by thread #1
==3438136== 
==3438136== ----------------------------------------------------------------

=== Issue in basic_consumer.h:153 ===
==3438136== 
==3438136== Possible data race during read of size 1 at 0x4F7F810 by thread #3
==3438136== Locks held: none
==3438136==    at 0x49C30F3: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438136==    by 0x11C24A: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3438136==    by 0x11B74F: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3438136==    by 0x125276: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438136==    by 0x12495C: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438136==    by 0x124175: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438136==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438136==    by 0x131E15: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:334)
==3438136==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438136==    by 0x141E52: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3438136==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438136==    by 0x1426A6: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3438136==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3438136==    by 0x137727: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3438136==    by 0x132B3C: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3438136==    by 0x12B1F0: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3438136==    by 0x11DF87: GatewayComponent::run() (gateway_component.h:200)
==3438136==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438136==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438136==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438136==    by 0x4CDEA03: clone (clone.S:100)
==3438136== 
==3438136== This conflicts with a previous write of size 1 by thread #1
==3438136== Locks held: none
==3438136==    at 0x49C31BF: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438136==    by 0x1153BC: Component::send_interest_message() (component.h:524)
==3438136==    by 0x113149: Component::start() (component.h:337)
==3438136==    by 0x119E58: Vehicle::start_components() (vehicle.h:215)
==3438136==    by 0x1194D0: Vehicle::start() (vehicle.h:148)
==3438136==    by 0x12214F: run_vehicle(Vehicle*) (demo.cpp:79)
==3438136==    by 0x122DD1: main (demo.cpp:168)
==3438136==  Address 0x4f7f810 is 624 bytes inside a block of size 872 alloc'd
==3438136==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438136==    by 0x1350CC: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438136==    by 0x12F11F: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438136==    by 0x1220BE: run_vehicle(Vehicle*) (demo.cpp:75)
==3438136==    by 0x122DD1: main (demo.cpp:168)
==3438136==  Block was alloc'd by thread #1
==3438136== 
==3438136== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
==3438136== 
==3438136== Possible data race during read of size 1 at 0x4F7F810 by thread #3
==3438136== Locks held: none
==3438136==    at 0x49C30F3: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438136==    by 0x11C24A: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3438136==    by 0x11B74F: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3438136==    by 0x125276: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438136==    by 0x12495C: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438136==    by 0x124175: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438136==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438136==    by 0x131E15: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:334)
==3438136==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438136==    by 0x141E52: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3438136==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438136==    by 0x1426A6: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3438136==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3438136==    by 0x137727: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3438136==    by 0x132B3C: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3438136==    by 0x12B1F0: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3438136==    by 0x11DF87: GatewayComponent::run() (gateway_component.h:200)
==3438136==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438136==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438136==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438136==    by 0x4CDEA03: clone (clone.S:100)
==3438136== 
==3438136== This conflicts with a previous write of size 1 by thread #1
==3438136== Locks held: none
==3438136==    at 0x49C31BF: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438136==    by 0x1153BC: Component::send_interest_message() (component.h:524)
==3438136==    by 0x113149: Component::start() (component.h:337)
==3438136==    by 0x119E58: Vehicle::start_components() (vehicle.h:215)
==3438136==    by 0x1194D0: Vehicle::start() (vehicle.h:148)
==3438136==    by 0x12214F: run_vehicle(Vehicle*) (demo.cpp:79)
==3438136==    by 0x122DD1: main (demo.cpp:168)
==3438136==  Address 0x4f7f810 is 624 bytes inside a block of size 872 alloc'd
==3438136==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438136==    by 0x1350CC: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438136==    by 0x12F11F: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438136==    by 0x1220BE: run_vehicle(Vehicle*) (demo.cpp:75)
==3438136==    by 0x122DD1: main (demo.cpp:168)
==3438136==  Block was alloc'd by thread #1
==3438136== 
==3438136== ----------------------------------------------------------------

=== Issue in basic_consumer.h:153 ===
==3438144== 
==3438144== Possible data race during read of size 1 at 0x4F7F811 by thread #1
==3438144== Locks held: none
==3438144==    at 0x49C30E6: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438144==    by 0x1153BC: Component::send_interest_message() (component.h:524)
==3438144==    by 0x113149: Component::start() (component.h:337)
==3438144==    by 0x119E58: Vehicle::start_components() (vehicle.h:215)
==3438144==    by 0x1194D0: Vehicle::start() (vehicle.h:148)
==3438144==    by 0x12214F: run_vehicle(Vehicle*) (demo.cpp:79)
==3438144==    by 0x122DD1: main (demo.cpp:168)
==3438144== 
==3438144== This conflicts with a previous write of size 1 by thread #3
==3438144== Locks held: none
==3438144==    at 0x49C31C8: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438144==    by 0x11C24A: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3438144==    by 0x11B74F: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3438144==    by 0x125276: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438144==    by 0x12495C: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438144==    by 0x124175: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438144==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438144==    by 0x131E15: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:334)
==3438144==  Address 0x4f7f811 is 625 bytes inside a block of size 872 alloc'd
==3438144==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438144==    by 0x1350CC: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438144==    by 0x12F11F: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438144==    by 0x1220BE: run_vehicle(Vehicle*) (demo.cpp:75)
==3438144==    by 0x122DD1: main (demo.cpp:168)
==3438144==  Block was alloc'd by thread #1
==3438144== 
==3438144== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
==3438144== 
==3438144== Possible data race during read of size 1 at 0x4F7F811 by thread #1
==3438144== Locks held: none
==3438144==    at 0x49C30E6: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438144==    by 0x1153BC: Component::send_interest_message() (component.h:524)
==3438144==    by 0x113149: Component::start() (component.h:337)
==3438144==    by 0x119E58: Vehicle::start_components() (vehicle.h:215)
==3438144==    by 0x1194D0: Vehicle::start() (vehicle.h:148)
==3438144==    by 0x12214F: run_vehicle(Vehicle*) (demo.cpp:79)
==3438144==    by 0x122DD1: main (demo.cpp:168)
==3438144== 
==3438144== This conflicts with a previous write of size 1 by thread #3
==3438144== Locks held: none
==3438144==    at 0x49C31C8: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438144==    by 0x11C24A: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3438144==    by 0x11B74F: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3438144==    by 0x125276: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438144==    by 0x12495C: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438144==    by 0x124175: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438144==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438144==    by 0x131E15: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:334)
==3438144==  Address 0x4f7f811 is 625 bytes inside a block of size 872 alloc'd
==3438144==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438144==    by 0x1350CC: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438144==    by 0x12F11F: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438144==    by 0x1220BE: run_vehicle(Vehicle*) (demo.cpp:75)
==3438144==    by 0x122DD1: main (demo.cpp:168)
==3438144==  Block was alloc'd by thread #1
==3438144== 
==3438144== ----------------------------------------------------------------

=== Issue in basic_consumer.h:153 ===
==3438144== 
==3438144== Possible data race during read of size 1 at 0x4F7F810 by thread #1
==3438144== Locks held: none
==3438144==    at 0x49C30F3: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438144==    by 0x1153BC: Component::send_interest_message() (component.h:524)
==3438144==    by 0x113149: Component::start() (component.h:337)
==3438144==    by 0x119E58: Vehicle::start_components() (vehicle.h:215)
==3438144==    by 0x1194D0: Vehicle::start() (vehicle.h:148)
==3438144==    by 0x12214F: run_vehicle(Vehicle*) (demo.cpp:79)
==3438144==    by 0x122DD1: main (demo.cpp:168)
==3438144== 
==3438144== This conflicts with a previous write of size 1 by thread #3
==3438144== Locks held: none
==3438144==    at 0x49C31BF: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438144==    by 0x11C24A: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3438144==    by 0x11B74F: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3438144==    by 0x125276: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438144==    by 0x12495C: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438144==    by 0x124175: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438144==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438144==    by 0x131E15: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:334)
==3438144==  Address 0x4f7f810 is 624 bytes inside a block of size 872 alloc'd
==3438144==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438144==    by 0x1350CC: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438144==    by 0x12F11F: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438144==    by 0x1220BE: run_vehicle(Vehicle*) (demo.cpp:75)
==3438144==    by 0x122DD1: main (demo.cpp:168)
==3438144==  Block was alloc'd by thread #1
==3438144== 
==3438142== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
==3438144== 
==3438144== Possible data race during read of size 1 at 0x4F7F810 by thread #1
==3438144== Locks held: none
==3438144==    at 0x49C30F3: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438144==    by 0x1153BC: Component::send_interest_message() (component.h:524)
==3438144==    by 0x113149: Component::start() (component.h:337)
==3438144==    by 0x119E58: Vehicle::start_components() (vehicle.h:215)
==3438144==    by 0x1194D0: Vehicle::start() (vehicle.h:148)
==3438144==    by 0x12214F: run_vehicle(Vehicle*) (demo.cpp:79)
==3438144==    by 0x122DD1: main (demo.cpp:168)
==3438144== 
==3438144== This conflicts with a previous write of size 1 by thread #3
==3438144== Locks held: none
==3438144==    at 0x49C31BF: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438144==    by 0x11C24A: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3438144==    by 0x11B74F: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3438144==    by 0x125276: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438144==    by 0x12495C: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438144==    by 0x124175: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438144==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438144==    by 0x131E15: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:334)
==3438144==  Address 0x4f7f810 is 624 bytes inside a block of size 872 alloc'd
==3438144==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438144==    by 0x1350CC: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438144==    by 0x12F11F: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438144==    by 0x1220BE: run_vehicle(Vehicle*) (demo.cpp:75)
==3438144==    by 0x122DD1: main (demo.cpp:168)
==3438144==  Block was alloc'd by thread #1
==3438144== 
==3438142== ----------------------------------------------------------------

=== Issue in basic_producer.h:76 ===
==3438117== 
==3438117==  Lock at 0x4F7BC68 was first observed
==3438117==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x125C94: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==3438117==    by 0x12707D: std::mutex::lock() (std_mutex.h:100)
==3438117==    by 0x12A225: std::lock_guard<std::mutex>::lock_guard(std::mutex&) (std_mutex.h:229)
==3438117==    by 0x127242: Component::handle_interest_period(Message const&) (component.h:158)
==3438117==    by 0x11AE04: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3438117==    by 0x1251B6: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438117==    by 0x1247ED: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438117==    by 0x124066: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438117==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438117==    by 0x13189B: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3438117==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438117==    by 0x141E52: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3438117==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438117==    by 0x1426A6: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3438117==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3438117==    by 0x137727: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3438117==    by 0x132B3C: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3438117==    by 0x12B1F0: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3438117==    by 0x11D90E: GatewayComponent::run() (gateway_component.h:160)
==3438117==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438120== ----------------------------------------------------------------

=== Issue in basic_producer.h:76 ===
==3438117==  Address 0x4f7bc68 is 696 bytes inside a block of size 5,824 alloc'd
==3438120== 
==3438120== Possible data race during read of size 2 at 0x4F7B86A by thread #2
==3438120== Locks held: none
==3438117==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    at 0x12A35E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address::to_string[abi:cxx11]() const (protocol.h:148)
==3438117==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438120==    by 0x131518: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:286)
==3438117==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438120==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438117==    by 0x122DD1: main (demo.cpp:168)
==3438117==  Block was alloc'd by thread #1
==3438117== 
==3438117== Possible data race during write of size 8 at 0x4F7BC50 by thread #3
==3438120==    by 0x141C60: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:327)
==3438117== Locks held: 1, at address 0x4F7BC68
==3438120==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438117==    at 0x1369FC: void std::vector<unsigned int, std::allocator<unsigned int> >::_M_realloc_insert<unsigned int>(__gnu_cxx::__normal_iterator<unsigned int*, std::vector<unsigned int, std::allocator<unsigned int> > >, unsigned int&&) (vector.tcc:502)
==3438120==    by 0x14246E: NIC<SocketEngine, SharedMemoryEngine>::handleExternal(Ethernet::Frame*, unsigned int) (nic.h:292)
==3438117==    by 0x130FC5: unsigned int& std::vector<unsigned int, std::allocator<unsigned int> >::emplace_back<unsigned int>(unsigned int&&) (vector.tcc:121)
==3438120==    by 0x110DEF: SocketEngine::receive() (socketEngine.h:314)
==3438117==    by 0x12A685: std::vector<unsigned int, std::allocator<unsigned int> >::push_back(unsigned int&&) (stl_vector.h:1204)
==3438120==    by 0x110A12: SocketEngine::run(void*) (socketEngine.h:266)
==3438117==    by 0x127706: Component::handle_interest_period(Message const&) (component.h:186)
==3438120==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438117==    by 0x11AE04: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3438120==    by 0x4CDEA03: clone (clone.S:100)
==3438120== 
==3438120== This conflicts with a previous write of size 8 by thread #1
==3438120== Locks held: none
==3438117==    by 0x1251B6: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3438120==    at 0x484D92F: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438120==    by 0x11CBCD: GatewayComponent::GatewayComponent(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (gateway_component.h:85)
==3438117==    by 0x1247ED: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438120==    by 0x134CC4: std::_MakeUniq<GatewayComponent>::__single_object std::make_unique<GatewayComponent, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117==    by 0x124066: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438117==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438120==    by 0x12EF43: void Vehicle::create_component<GatewayComponent>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x13189B: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3438120==    by 0x121F2A: run_vehicle(Vehicle*) (demo.cpp:67)
==3438117==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438120==  Address 0x4f7b86a is 122 bytes inside a block of size 208 alloc'd
==3438117==    by 0x141E52: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3438117==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x1426A6: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3438117==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3438120==    by 0x11CBEB: GatewayComponent::GatewayComponent(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (gateway_component.h:88)
==3438117==    by 0x137727: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3438117==    by 0x132B3C: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3438117==    by 0x12B1F0: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3438120==    by 0x134CC4: std::_MakeUniq<GatewayComponent>::__single_object std::make_unique<GatewayComponent, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117==    by 0x11D90E: GatewayComponent::run() (gateway_component.h:160)
==3438117==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438120==    by 0x12EF43: void Vehicle::create_component<GatewayComponent>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438120==    by 0x121F2A: run_vehicle(Vehicle*) (demo.cpp:67)
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438117== 
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438117== This conflicts with a previous read of size 8 by thread #5
==3438120==  Block was alloc'd by thread #1
==3438117== Locks held: none
==3438120== 
==3438117==    at 0x128B0E: std::vector<unsigned int, std::allocator<unsigned int> >::size() const (stl_vector.h:919)
==3438117==    by 0x1172DA: Component::producer_routine() (component.h:705)
==3438117==    by 0x116DD7: Component::producer_thread_launcher(void*) (component.h:672)
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438117==  Address 0x4f7bc50 is 672 bytes inside a block of size 5,824 alloc'd
==3438117==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438117==    by 0x122DD1: main (demo.cpp:168)
==3438117==  Block was alloc'd by thread #1
==3438117== 
==3438120== ----------------------------------------------------------------

=== Issue in basic_producer.h:76 ===
==3438117== 
==3438117==  Lock at 0x4F7BC68 was first observed
==3438120==    by 0x110A12: SocketEngine::run(void*) (socketEngine.h:266)
==3438117==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x125C94: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==3438120==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438117==    by 0x12707D: std::mutex::lock() (std_mutex.h:100)
==3438120==    by 0x4CDEA03: clone (clone.S:100)
==3438117==    by 0x12A225: std::lock_guard<std::mutex>::lock_guard(std::mutex&) (std_mutex.h:229)
==3438120== 
==3438117==    by 0x127242: Component::handle_interest_period(Message const&) (component.h:158)
==3438120== This conflicts with a previous write of size 8 by thread #1
==3438120== Locks held: none
==3438117==    by 0x11AE04: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3438120==    at 0x484D92F: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x1251B6: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3438120==    by 0x11CBCD: GatewayComponent::GatewayComponent(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (gateway_component.h:85)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438120==    by 0x134CC4: std::_MakeUniq<GatewayComponent>::__single_object std::make_unique<GatewayComponent, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117==    by 0x1247ED: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438120==    by 0x12EF43: void Vehicle::create_component<GatewayComponent>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x124066: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438120==    by 0x121F2A: run_vehicle(Vehicle*) (demo.cpp:67)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438117==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438120==  Address 0x4f7b86c is 124 bytes inside a block of size 208 alloc'd
==3438117==    by 0x13189B: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3438120==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438117==    by 0x141E52: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3438120==    by 0x11CBEB: GatewayComponent::GatewayComponent(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (gateway_component.h:88)
==3438117==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438117==    by 0x1426A6: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3438117==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3438120==    by 0x134CC4: std::_MakeUniq<GatewayComponent>::__single_object std::make_unique<GatewayComponent, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117==    by 0x137727: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3438117==    by 0x132B3C: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3438120==    by 0x12EF43: void Vehicle::create_component<GatewayComponent>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x12B1F0: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3438120==    by 0x121F2A: run_vehicle(Vehicle*) (demo.cpp:67)
==3438117==    by 0x11D90E: GatewayComponent::run() (gateway_component.h:160)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438117==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438120==  Block was alloc'd by thread #1
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120== 
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438117==  Address 0x4f7bc68 is 696 bytes inside a block of size 5,824 alloc'd
==3438117==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438117==    by 0x122DD1: main (demo.cpp:168)
==3438117==  Block was alloc'd by thread #1
==3438117== 
==3438117== Possible data race during write of size 8 at 0x4F7BC58 by thread #3
==3438117== Locks held: 1, at address 0x4F7BC68
==3438117==    at 0x136A07: void std::vector<unsigned int, std::allocator<unsigned int> >::_M_realloc_insert<unsigned int>(__gnu_cxx::__normal_iterator<unsigned int*, std::vector<unsigned int, std::allocator<unsigned int> > >, unsigned int&&) (vector.tcc:503)
==3438117==    by 0x130FC5: unsigned int& std::vector<unsigned int, std::allocator<unsigned int> >::emplace_back<unsigned int>(unsigned int&&) (vector.tcc:121)
==3438120== ----------------------------------------------------------------

=== Issue in basic_producer.h:76 ===
==3438120== 
==3438117==    by 0x12A685: std::vector<unsigned int, std::allocator<unsigned int> >::push_back(unsigned int&&) (stl_vector.h:1204)
==3438120== Possible data race during read of size 2 at 0x4F7B86E by thread #2
==3438120== Locks held: none
==3438117==    by 0x127706: Component::handle_interest_period(Message const&) (component.h:186)
==3438117==    by 0x11AE04: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3438120==    at 0x12A36D: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address::to_string[abi:cxx11]() const (protocol.h:148)
==3438120==    by 0x131518: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:286)
==3438117==    by 0x1251B6: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438120==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    by 0x141C60: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:327)
==3438117==    by 0x1247ED: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438120==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438117==    by 0x124066: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438120==    by 0x14246E: NIC<SocketEngine, SharedMemoryEngine>::handleExternal(Ethernet::Frame*, unsigned int) (nic.h:292)
==3438117==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438120==    by 0x110DEF: SocketEngine::receive() (socketEngine.h:314)
==3438117==    by 0x13189B: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3438120==    by 0x110A12: SocketEngine::run(void*) (socketEngine.h:266)
==3438117==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x141E52: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3438120==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438117==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    by 0x4CDEA03: clone (clone.S:100)
==3438120== 
==3438117==    by 0x1426A6: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3438120== This conflicts with a previous write of size 8 by thread #1
==3438120== Locks held: none
==3438117==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3438117==    by 0x137727: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3438120==    at 0x484D92F: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x132B3C: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3438117==    by 0x12B1F0: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3438120==    by 0x11CBCD: GatewayComponent::GatewayComponent(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (gateway_component.h:85)
==3438117==    by 0x11D90E: GatewayComponent::run() (gateway_component.h:160)
==3438117==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438117== 
==3438117== This conflicts with a previous read of size 8 by thread #5
==3438120==    by 0x134CC4: std::_MakeUniq<GatewayComponent>::__single_object std::make_unique<GatewayComponent, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117== Locks held: none
==3438117==    at 0x128B06: std::vector<unsigned int, std::allocator<unsigned int> >::size() const (stl_vector.h:919)
==3438120==    by 0x12EF43: void Vehicle::create_component<GatewayComponent>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x1172DA: Component::producer_routine() (component.h:705)
==3438120==    by 0x121F2A: run_vehicle(Vehicle*) (demo.cpp:67)
==3438117==    by 0x116DD7: Component::producer_thread_launcher(void*) (component.h:672)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==  Address 0x4f7b86e is 126 bytes inside a block of size 208 alloc'd
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438117==  Address 0x4f7bc58 is 680 bytes inside a block of size 5,824 alloc'd
==3438120==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x11CBEB: GatewayComponent::GatewayComponent(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (gateway_component.h:88)
==3438117==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438117==    by 0x122DD1: main (demo.cpp:168)
==3438120==    by 0x134CC4: std::_MakeUniq<GatewayComponent>::__single_object std::make_unique<GatewayComponent, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117==  Block was alloc'd by thread #1
==3438117== 
==3438120==    by 0x12EF43: void Vehicle::create_component<GatewayComponent>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438120==    by 0x121F2A: run_vehicle(Vehicle*) (demo.cpp:67)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438120==  Block was alloc'd by thread #1
==3438120== 
==3438120== ----------------------------------------------------------------

=== Issue in basic_producer.h:71 ===
==3438120== 
==3438120==  Lock at 0x15D340 was first observed
==3438120==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x125C94: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==3438120==    by 0x12707D: std::mutex::lock() (std_mutex.h:100)
==3438120==    by 0x12A225: std::lock_guard<std::mutex>::lock_guard(std::mutex&) (std_mutex.h:229)
==3438120==    by 0x13B45A: Ordered_List<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>, unsigned short>::insert(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*) (list.h:70)
==3438120==    by 0x138C1A: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, unsigned short) (observed.h:50)
==3438120==    by 0x134162: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address) (protocol.h:293)
==3438120==    by 0x12D8B1: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::Communicator(Protocol<NIC<SocketEngine, SharedMemoryEngine> >*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, ComponentType, DataTypeId) (communicator.h:117)
==3438120==    by 0x11CC0F: GatewayComponent::GatewayComponent(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (gateway_component.h:88)
==3438120==    by 0x134CC4: std::_MakeUniq<GatewayComponent>::__single_object std::make_unique<GatewayComponent, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438120==    by 0x12EF43: void Vehicle::create_component<GatewayComponent>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438120==    by 0x121F2A: run_vehicle(Vehicle*) (demo.cpp:67)
==3438120==    by 0x122DD1: main (demo.cpp:168)
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438120-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438120==  Address 0x15d340 is in the BSS segment of /home/enzo/Desktop/university/SO2/UFSC-INE5424/bin/system_tests/demo
==3438120== 
==3438120== Possible data race during read of size 8 at 0x4DFBFF0 by thread #2
==3438120== Locks held: none
==3438120==    at 0x13E7C9: std::_List_iterator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*>::operator++() (stl_list.h:220)
==3438120==    by 0x142853: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:66)
==3438120==    by 0x141C60: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:327)
==3438120==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    by 0x14246E: NIC<SocketEngine, SharedMemoryEngine>::handleExternal(Ethernet::Frame*, unsigned int) (nic.h:292)
==3438120==    by 0x110DEF: SocketEngine::receive() (socketEngine.h:314)
==3438120==    by 0x110A12: SocketEngine::run(void*) (socketEngine.h:266)
==3438120==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438120==    by 0x4CDEA03: clone (clone.S:100)
==3438120== 
==3438120== This conflicts with a previous write of size 8 by thread #1
==3438120== Locks held: 1, at address 0x15D340
==3438120==    at 0x4945D99: std::__detail::_List_node_base::_M_hook(std::__detail::_List_node_base*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438120==    by 0x13EE78: void std::__cxx11::list<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::_M_insert<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&>(std::_List_iterator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*>, Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&) (stl_list.h:1913)
==3438120==    by 0x13D6C5: std::__cxx11::list<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::push_back(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&) (stl_list.h:1213)
==3438120==    by 0x13B46D: Ordered_List<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>, unsigned short>::insert(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*) (list.h:71)
==3438120==    by 0x138C1A: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, unsigned short) (observed.h:50)
==3438120==    by 0x134162: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address) (protocol.h:293)
==3438120==    by 0x12D8B1: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::Communicator(Protocol<NIC<SocketEngine, SharedMemoryEngine> >*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, ComponentType, DataTypeId) (communicator.h:117)
==3438120==    by 0x11B0B5: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (basic_producer.h:71)
==3438120==  Address 0x4dfbff0 is 0 bytes inside a block of size 24 alloc'd
==3438120==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x14139E: __gnu_cxx::new_allocator<std::_List_node<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==3438120==    by 0x1410DE: std::allocator_traits<std::allocator<std::_List_node<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> > >::allocate(std::allocator<std::_List_node<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >&, unsigned long) (alloc_traits.h:464)
==3438120==    by 0x140AA6: std::__cxx11::_List_base<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::_M_get_node() (stl_list.h:443)
==3438120==    by 0x13FFED: std::_List_node<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*>* std::__cxx11::list<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::_M_create_node<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&>(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&) (stl_list.h:635)
==3438120==    by 0x13EE61: void std::__cxx11::list<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::_M_insert<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&>(std::_List_iterator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*>, Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&) (stl_list.h:1912)
==3438120==    by 0x13D6C5: std::__cxx11::list<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::push_back(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&) (stl_list.h:1213)
==3438120==    by 0x13B46D: Ordered_List<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>, unsigned short>::insert(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*) (list.h:71)
==3438120==    by 0x138C1A: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, unsigned short) (observed.h:50)
==3438120==    by 0x134162: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address) (protocol.h:293)
==3438120==    by 0x12D8B1: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::Communicator(Protocol<NIC<SocketEngine, SharedMemoryEngine> >*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, ComponentType, DataTypeId) (communicator.h:117)
==3438120==    by 0x11CC0F: GatewayComponent::GatewayComponent(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (gateway_component.h:88)
==3438120==    by 0x134CC4: std::_MakeUniq<GatewayComponent>::__single_object std::make_unique<GatewayComponent, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438120==    by 0x12EF43: void Vehicle::create_component<GatewayComponent>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438120==    by 0x121F2A: run_vehicle(Vehicle*) (demo.cpp:67)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438120==  Block was alloc'd by thread #1
==3438120== 
==3438120== ----------------------------------------------------------------

=== Issue in basic_producer.h:119 ===
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117== 
==3438117== Possible data race during read of size 4 at 0x4F7D068 by thread #5
==3438117== Locks held: none
==3438117==    at 0x11B5A8: BasicProducer::produce_data_for_response(DataTypeId, std::vector<unsigned char, std::allocator<unsigned char> >&) (basic_producer.h:119)
==3438117==    by 0x117680: Component::producer_routine() (component.h:740)
==3438117==    by 0x116DD7: Component::producer_thread_launcher(void*) (component.h:672)
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438117== 
==3438117== This conflicts with a previous write of size 4 by thread #4
==3438117== Locks held: none
==3438117==    at 0x11B45C: BasicProducer::update_test_data() (basic_producer.h:103)
==3438117==    by 0x11B2F5: BasicProducer::run() (basic_producer.h:89)
==3438117==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438117==  Address 0x4f7d068 is 5,816 bytes inside a block of size 5,824 alloc'd
==3438117==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438117==    by 0x122DD1: main (demo.cpp:168)
==3438117==  Block was alloc'd by thread #1
==3438117== 
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117== ----------------------------------------------------------------

=== Issue in basic_producer.h:103 ===
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117== 
==3438117== Possible data race during read of size 4 at 0x4F7D068 by thread #5
==3438117== Locks held: none
==3438117==    at 0x11B5A8: BasicProducer::produce_data_for_response(DataTypeId, std::vector<unsigned char, std::allocator<unsigned char> >&) (basic_producer.h:119)
==3438117==    by 0x117680: Component::producer_routine() (component.h:740)
==3438117==    by 0x116DD7: Component::producer_thread_launcher(void*) (component.h:672)
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438117== 
==3438117== This conflicts with a previous write of size 4 by thread #4
==3438117== Locks held: none
==3438117==    at 0x11B45C: BasicProducer::update_test_data() (basic_producer.h:103)
==3438117==    by 0x11B2F5: BasicProducer::run() (basic_producer.h:89)
==3438117==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438117==  Address 0x4f7d068 is 5,816 bytes inside a block of size 5,824 alloc'd
==3438117==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438117==    by 0x122DD1: main (demo.cpp:168)
==3438117==  Block was alloc'd by thread #1
==3438117== 
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117== ----------------------------------------------------------------

=== Issue in basic_producer.h:89 ===
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117== 
==3438117== Possible data race during read of size 4 at 0x4F7D068 by thread #5
==3438117== Locks held: none
==3438117==    at 0x11B5A8: BasicProducer::produce_data_for_response(DataTypeId, std::vector<unsigned char, std::allocator<unsigned char> >&) (basic_producer.h:119)
==3438117==    by 0x117680: Component::producer_routine() (component.h:740)
==3438117==    by 0x116DD7: Component::producer_thread_launcher(void*) (component.h:672)
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438117== 
==3438117== This conflicts with a previous write of size 4 by thread #4
==3438117== Locks held: none
==3438117==    at 0x11B45C: BasicProducer::update_test_data() (basic_producer.h:103)
==3438117==    by 0x11B2F5: BasicProducer::run() (basic_producer.h:89)
==3438117==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438117==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117==    by 0x4CDEA03: clone (clone.S:100)
==3438117==  Address 0x4f7d068 is 5,816 bytes inside a block of size 5,824 alloc'd
==3438117==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438117==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438117==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438117==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438117==    by 0x122DD1: main (demo.cpp:168)
==3438117==  Block was alloc'd by thread #1
==3438117== 
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438117== ----------------------------------------------------------------

=== Issue in basic_producer.h:71 ===
==3438126== 
==3438126==  Lock at 0x15D340 was first observed
==3438126==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438126==    by 0x125C94: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==3438126==    by 0x12707D: std::mutex::lock() (std_mutex.h:100)
==3438126==    by 0x12A225: std::lock_guard<std::mutex>::lock_guard(std::mutex&) (std_mutex.h:229)
==3438126==    by 0x13B45A: Ordered_List<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>, unsigned short>::insert(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*) (list.h:70)
==3438126==    by 0x138C1A: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, unsigned short) (observed.h:50)
==3438126==    by 0x134162: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address) (protocol.h:293)
==3438126==    by 0x12D8B1: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::Communicator(Protocol<NIC<SocketEngine, SharedMemoryEngine> >*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, ComponentType, DataTypeId) (communicator.h:117)
==3438126==    by 0x11CC0F: GatewayComponent::GatewayComponent(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (gateway_component.h:88)
==3438126==    by 0x134CC4: std::_MakeUniq<GatewayComponent>::__single_object std::make_unique<GatewayComponent, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438126==    by 0x12EF43: void Vehicle::create_component<GatewayComponent>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438126==    by 0x121F2A: run_vehicle(Vehicle*) (demo.cpp:67)
==3438126==    by 0x122DD1: main (demo.cpp:168)
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3438126-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3438126==  Address 0x15d340 is in the BSS segment of /home/enzo/Desktop/university/SO2/UFSC-INE5424/bin/system_tests/demo
==3438126== 
==3438126== Possible data race during read of size 8 at 0x4F76740 by thread #2
==3438126== Locks held: none
==3438126==    at 0x13E7C9: std::_List_iterator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*>::operator++() (stl_list.h:220)
==3438126==    by 0x142853: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:66)
==3438126==    by 0x141C60: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:327)
==3438126==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438126==    by 0x14246E: NIC<SocketEngine, SharedMemoryEngine>::handleExternal(Ethernet::Frame*, unsigned int) (nic.h:292)
==3438126==    by 0x110DEF: SocketEngine::receive() (socketEngine.h:314)
==3438126==    by 0x110A12: SocketEngine::run(void*) (socketEngine.h:266)
==3438126==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438126==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438126==    by 0x4CDEA03: clone (clone.S:100)
==3438126== 
==3438126== This conflicts with a previous write of size 8 by thread #1
==3438126== Locks held: 1, at address 0x15D340
==3438126==    at 0x4945D99: std::__detail::_List_node_base::_M_hook(std::__detail::_List_node_base*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3438126==    by 0x13EE78: void std::__cxx11::list<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::_M_insert<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&>(std::_List_iterator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*>, Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&) (stl_list.h:1913)
==3438126==    by 0x13D6C5: std::__cxx11::list<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::push_back(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&) (stl_list.h:1213)
==3438126==    by 0x13B46D: Ordered_List<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>, unsigned short>::insert(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*) (list.h:71)
==3438126==    by 0x138C1A: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, unsigned short) (observed.h:50)
==3438126==    by 0x134162: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address) (protocol.h:293)
==3438126==    by 0x12D8B1: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::Communicator(Protocol<NIC<SocketEngine, SharedMemoryEngine> >*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, ComponentType, DataTypeId) (communicator.h:117)
==3438126==    by 0x11B0B5: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (basic_producer.h:71)
==3438126==  Address 0x4f76740 is 0 bytes inside a block of size 24 alloc'd
==3438126==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438126==    by 0x14139E: __gnu_cxx::new_allocator<std::_List_node<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==3438126==    by 0x1410DE: std::allocator_traits<std::allocator<std::_List_node<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> > >::allocate(std::allocator<std::_List_node<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >&, unsigned long) (alloc_traits.h:464)
==3438126==    by 0x140AA6: std::__cxx11::_List_base<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::_M_get_node() (stl_list.h:443)
==3438126==    by 0x13FFED: std::_List_node<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*>* std::__cxx11::list<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::_M_create_node<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&>(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&) (stl_list.h:635)
==3438126==    by 0x13EE61: void std::__cxx11::list<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::_M_insert<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&>(std::_List_iterator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*>, Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&) (stl_list.h:1912)
==3438126==    by 0x13D6C5: std::__cxx11::list<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, std::allocator<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*> >::push_back(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>* const&) (stl_list.h:1213)
==3438126==    by 0x13B46D: Ordered_List<Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>, unsigned short>::insert(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*) (list.h:71)
==3438126==    by 0x138C1A: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, unsigned short) (observed.h:50)
==3438126==    by 0x134162: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::attach(Conditional_Data_Observer<Buffer<Ethernet::Frame>, unsigned short>*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address) (protocol.h:293)
==3438126==    by 0x12D8B1: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::Communicator(Protocol<NIC<SocketEngine, SharedMemoryEngine> >*, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, ComponentType, DataTypeId) (communicator.h:117)
==3438126==    by 0x11CC0F: GatewayComponent::GatewayComponent(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (gateway_component.h:88)
==3438126==    by 0x134CC4: std::_MakeUniq<GatewayComponent>::__single_object std::make_unique<GatewayComponent, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438126==    by 0x12EF43: void Vehicle::create_component<GatewayComponent>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438126==    by 0x121F2A: run_vehicle(Vehicle*) (demo.cpp:67)
==3438126==    by 0x122DD1: main (demo.cpp:168)
==3438126==  Block was alloc'd by thread #1
==3438126== 
==3438126== ----------------------------------------------------------------

=== Issue in basic_producer.h:76 ===
==3438120== 
==3438120==  Lock at 0x4F7BC68 was first observed
==3438120==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x125C94: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==3438120==    by 0x12707D: std::mutex::lock() (std_mutex.h:100)
==3438120==    by 0x12A225: std::lock_guard<std::mutex>::lock_guard(std::mutex&) (std_mutex.h:229)
==3438120==    by 0x127242: Component::handle_interest_period(Message const&) (component.h:158)
==3438120==    by 0x11AE04: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3438120==    by 0x1251B6: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438120==    by 0x1247ED: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438120==    by 0x124066: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438120==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438120==    by 0x13189B: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3438120==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    by 0x141E52: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3438120==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    by 0x1426A6: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3438120==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3438120==    by 0x137727: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3438120==    by 0x132B3C: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3438120==    by 0x12B1F0: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3438120==    by 0x11D90E: GatewayComponent::run() (gateway_component.h:160)
==3438120==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438120==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438120==    by 0x4CDEA03: clone (clone.S:100)
==3438120==  Address 0x4f7bc68 is 696 bytes inside a block of size 5,824 alloc'd
==3438120==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438120==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438120==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438120==  Block was alloc'd by thread #1
==3438120== 
==3438120== Possible data race during read of size 8 at 0x4F7BC58 by thread #5
==3438120== Locks held: none
==3438120==    at 0x138744: __gnu_cxx::__normal_iterator<unsigned int const*, std::vector<unsigned int, std::allocator<unsigned int> > >::__normal_iterator(unsigned int const* const&) (stl_iterator.h:1028)
==3438120==    by 0x13385F: std::vector<unsigned int, std::allocator<unsigned int> >::end() const (stl_vector.h:839)
==3438120==    by 0x12C5FA: std::vector<unsigned int, std::allocator<unsigned int> >::empty() const (stl_vector.h:1008)
==3438120==    by 0x1171CD: Component::producer_routine() (component.h:702)
==3438120==    by 0x116DD7: Component::producer_thread_launcher(void*) (component.h:672)
==3438120==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438120==    by 0x4CDEA03: clone (clone.S:100)
==3438120== 
==3438120== This conflicts with a previous write of size 8 by thread #3
==3438120== Locks held: 1, at address 0x4F7BC68
==3438120==    at 0x136A07: void std::vector<unsigned int, std::allocator<unsigned int> >::_M_realloc_insert<unsigned int>(__gnu_cxx::__normal_iterator<unsigned int*, std::vector<unsigned int, std::allocator<unsigned int> > >, unsigned int&&) (vector.tcc:503)
==3438120==    by 0x130FC5: unsigned int& std::vector<unsigned int, std::allocator<unsigned int> >::emplace_back<unsigned int>(unsigned int&&) (vector.tcc:121)
==3438120==    by 0x12A685: std::vector<unsigned int, std::allocator<unsigned int> >::push_back(unsigned int&&) (stl_vector.h:1204)
==3438120==    by 0x127706: Component::handle_interest_period(Message const&) (component.h:186)
==3438120==    by 0x11AE04: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3438120==    by 0x1251B6: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438120==    by 0x1247ED: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438120==    by 0x124066: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438120==  Address 0x4f7bc58 is 680 bytes inside a block of size 5,824 alloc'd
==3438120==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438120==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438120==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438120==  Block was alloc'd by thread #1
==3438120== 
==3438120== ----------------------------------------------------------------

=== Issue in basic_producer.h:76 ===
==3438120== 
==3438120==  Lock at 0x4F7BC68 was first observed
==3438120==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x125C94: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==3438120==    by 0x12707D: std::mutex::lock() (std_mutex.h:100)
==3438120==    by 0x12A225: std::lock_guard<std::mutex>::lock_guard(std::mutex&) (std_mutex.h:229)
==3438120==    by 0x127242: Component::handle_interest_period(Message const&) (component.h:158)
==3438120==    by 0x11AE04: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3438120==    by 0x1251B6: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438120==    by 0x1247ED: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438120==    by 0x124066: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438120==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438120==    by 0x13189B: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3438120==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    by 0x141E52: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3438120==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    by 0x1426A6: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3438120==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3438120==    by 0x137727: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3438120==    by 0x132B3C: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3438120==    by 0x12B1F0: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3438120==    by 0x11D90E: GatewayComponent::run() (gateway_component.h:160)
==3438120==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438120==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438120==    by 0x4CDEA03: clone (clone.S:100)
==3438120==  Address 0x4f7bc68 is 696 bytes inside a block of size 5,824 alloc'd
==3438120==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438120==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438120==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438120==  Block was alloc'd by thread #1
==3438120== 
==3438120== Possible data race during read of size 8 at 0x4F7BC58 by thread #5
==3438120== Locks held: none
==3438120==    at 0x138744: __gnu_cxx::__normal_iterator<unsigned int const*, std::vector<unsigned int, std::allocator<unsigned int> > >::__normal_iterator(unsigned int const* const&) (stl_iterator.h:1028)
==3438120==    by 0x13385F: std::vector<unsigned int, std::allocator<unsigned int> >::end() const (stl_vector.h:839)
==3438120==    by 0x12C5FA: std::vector<unsigned int, std::allocator<unsigned int> >::empty() const (stl_vector.h:1008)
==3438120==    by 0x1171CD: Component::producer_routine() (component.h:702)
==3438120==    by 0x116DD7: Component::producer_thread_launcher(void*) (component.h:672)
==3438120==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438120==    by 0x4CDEA03: clone (clone.S:100)
==3438120== 
==3438120== This conflicts with a previous write of size 8 by thread #3
==3438120== Locks held: 1, at address 0x4F7BC68
==3438120==    at 0x136A07: void std::vector<unsigned int, std::allocator<unsigned int> >::_M_realloc_insert<unsigned int>(__gnu_cxx::__normal_iterator<unsigned int*, std::vector<unsigned int, std::allocator<unsigned int> > >, unsigned int&&) (vector.tcc:503)
==3438120==    by 0x130FC5: unsigned int& std::vector<unsigned int, std::allocator<unsigned int> >::emplace_back<unsigned int>(unsigned int&&) (vector.tcc:121)
==3438120==    by 0x12A685: std::vector<unsigned int, std::allocator<unsigned int> >::push_back(unsigned int&&) (stl_vector.h:1204)
==3438120==    by 0x127706: Component::handle_interest_period(Message const&) (component.h:186)
==3438120==    by 0x11AE04: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3438120==    by 0x1251B6: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438120==    by 0x1247ED: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438120==    by 0x124066: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438120==  Address 0x4f7bc58 is 680 bytes inside a block of size 5,824 alloc'd
==3438120==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438120==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438120==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438120==  Block was alloc'd by thread #1
==3438120== 
==3438120== ----------------------------------------------------------------

=== Issue in basic_producer.h:76 ===
==3438120== 
==3438120==  Lock at 0x4F7BC68 was first observed
==3438120==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x125C94: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
==3438120==    by 0x12707D: std::mutex::lock() (std_mutex.h:100)
==3438120==    by 0x12A225: std::lock_guard<std::mutex>::lock_guard(std::mutex&) (std_mutex.h:229)
==3438120==    by 0x127242: Component::handle_interest_period(Message const&) (component.h:158)
==3438120==    by 0x11AE04: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3438120==    by 0x1251B6: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438120==    by 0x1247ED: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438120==    by 0x124066: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438120==    by 0x136C76: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3438120==    by 0x13189B: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3438120==    by 0x142843: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    by 0x141E52: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3438120==    by 0x142BB4: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3438120==    by 0x1426A6: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3438120==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3438120==    by 0x137727: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3438120==    by 0x132B3C: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3438120==    by 0x12B1F0: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3438120==    by 0x11D90E: GatewayComponent::run() (gateway_component.h:160)
==3438120==    by 0x112BDF: Component::thread_entry_point(void*) (component.h:306)
==3438120==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438120==    by 0x4CDEA03: clone (clone.S:100)
==3438120==  Address 0x4f7bc68 is 696 bytes inside a block of size 5,824 alloc'd
==3438120==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438120==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438120==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438120==  Block was alloc'd by thread #1
==3438120== 
==3438120== Possible data race during read of size 8 at 0x4F7BC50 by thread #5
==3438120== Locks held: none
==3438120==    at 0x138744: __gnu_cxx::__normal_iterator<unsigned int const*, std::vector<unsigned int, std::allocator<unsigned int> > >::__normal_iterator(unsigned int const* const&) (stl_iterator.h:1028)
==3438120==    by 0x13380F: std::vector<unsigned int, std::allocator<unsigned int> >::begin() const (stl_vector.h:821)
==3438120==    by 0x12C60A: std::vector<unsigned int, std::allocator<unsigned int> >::empty() const (stl_vector.h:1008)
==3438120==    by 0x1171CD: Component::producer_routine() (component.h:702)
==3438120==    by 0x116DD7: Component::producer_thread_launcher(void*) (component.h:672)
==3438120==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3438120==    by 0x4CDEA03: clone (clone.S:100)
==3438120== 
==3438120== This conflicts with a previous write of size 8 by thread #3
==3438120== Locks held: 1, at address 0x4F7BC68
==3438120==    at 0x1369FC: void std::vector<unsigned int, std::allocator<unsigned int> >::_M_realloc_insert<unsigned int>(__gnu_cxx::__normal_iterator<unsigned int*, std::vector<unsigned int, std::allocator<unsigned int> > >, unsigned int&&) (vector.tcc:502)
==3438120==    by 0x130FC5: unsigned int& std::vector<unsigned int, std::allocator<unsigned int> >::emplace_back<unsigned int>(unsigned int&&) (vector.tcc:121)
==3438120==    by 0x12A685: std::vector<unsigned int, std::allocator<unsigned int> >::push_back(unsigned int&&) (stl_vector.h:1204)
==3438120==    by 0x127706: Component::handle_interest_period(Message const&) (component.h:186)
==3438120==    by 0x11AE04: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3438120==    by 0x1251B6: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3438120==    by 0x1247ED: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3438120==    by 0x124066: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3438120==  Address 0x4f7bc50 is 672 bytes inside a block of size 5,824 alloc'd
==3438120==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x134F13: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3438120==    by 0x12F031: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3438120==    by 0x121FF4: run_vehicle(Vehicle*) (demo.cpp:71)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438120==  Block was alloc'd by thread #1
==3438120== 
==3438120== ---Thread-Announcement------------------------------------------
==3438120== 
==3438120== Thread #6 was created
==3438120==    at 0x4CDE9F3: clone (clone.S:76)
==3438120==    by 0x4CDF8EE: __clone_internal (clone-internal.c:83)
==3438120==    by 0x4C4D6D8: create_thread (pthread_create.c:295)
==3438120==    by 0x4C4E1FF: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
==3438120==    by 0x4853767: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3438120==    by 0x11302D: Component::start() (component.h:324)
==3438120==    by 0x119E58: Vehicle::start_components() (vehicle.h:215)
==3438120==    by 0x1194D0: Vehicle::start() (vehicle.h:148)
==3438120==    by 0x12214F: run_vehicle(Vehicle*) (demo.cpp:79)
==3438120==    by 0x122DD1: main (demo.cpp:168)
==3438120== 
==3438120== ----------------------------------------------------------------
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
