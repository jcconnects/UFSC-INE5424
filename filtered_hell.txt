Found issues in the following include files:
  basic_consumer.h: 143 issues
    - basic_consumer.h:54
    - basic_consumer.h:66
    - basic_consumer.h:71
    - basic_consumer.h:153
    - basic_consumer.h:155
    - basic_consumer.h:156
    - basic_consumer.h:157
    - basic_consumer.h:161
    - basic_consumer.h:162
    - basic_consumer.h:165
  basic_producer.h: 751 issues
    - basic_producer.h:58
    - basic_producer.h:71
    - basic_producer.h:76
    - basic_producer.h:89
    - basic_producer.h:103
    - basic_producer.h:104
    - basic_producer.h:119
    - basic_producer.h:120
    - basic_producer.h:122
    - basic_producer.h:123
  buffer.h: 40 issues
    - buffer.h:50
    - buffer.h:67
  communicator.h: 1162 issues
    - communicator.h:117
    - communicator.h:172
    - communicator.h:220
    - communicator.h:236
    - communicator.h:312
    - communicator.h:334
  component.h: 2127 issues
    - component.h:158
    - component.h:167
    - component.h:169
    - component.h:170
    - component.h:171
    - component.h:174
    - component.h:175
    - component.h:179
    - component.h:186
    - component.h:306
    - component.h:324
    - component.h:332
    - component.h:337
    - component.h:413
    - component.h:515
    - component.h:524
    - component.h:526
    - component.h:527
    - component.h:528
    - component.h:531
    - component.h:532
    - component.h:535
    - component.h:536
    - component.h:605
    - component.h:672
    - component.h:702
    - component.h:705
    - component.h:740
    - component.h:755
    - component.h:765
    - component.h:767
    - component.h:768
    - component.h:773
    - component.h:776
    - component.h:777
  gateway_component.h: 581 issues
    - gateway_component.h:88
    - gateway_component.h:117
    - gateway_component.h:160
    - gateway_component.h:200
  initializer.h: 22 issues
    - initializer.h:48
  list.h: 6 issues
    - list.h:70
    - list.h:71
  nic.h: 1170 issues
    - nic.h:101
    - nic.h:155
    - nic.h:171
    - nic.h:251
    - nic.h:292
    - nic.h:313
    - nic.h:389
  observed.h: 1126 issues
    - observed.h:50
    - observed.h:66
    - observed.h:68
  protocol.h: 1164 issues
    - protocol.h:200
    - protocol.h:231
    - protocol.h:293
    - protocol.h:327
    - protocol.h:366
    - protocol.h:381
  sharedMemoryEngine.h: 578 issues
    - sharedMemoryEngine.h:55
    - sharedMemoryEngine.h:57
  socketEngine.h: 6 issues
    - socketEngine.h:82
    - socketEngine.h:266
    - socketEngine.h:314
  vehicle.h: 878 issues
    - vehicle.h:103
    - vehicle.h:148
    - vehicle.h:175
    - vehicle.h:191
    - vehicle.h:203
    - vehicle.h:215
================================================================================

=== Issue in basic_consumer.h:153 ===
==3458403== 
==3458403== Possible data race during read of size 8 at 0x4F7F740 by thread #1
==3458399==    by 0x133FCB: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458403== Locks held: none
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x12E449: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
==3458403==    at 0x49B4ACF: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458399==  Block was alloc'd by thread #1
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399== 
==3458399== Possible data race during write of size 8 at 0x4F7BB50 by thread #3
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458399== Locks held: 1, at address 0x4F7BC68
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458399==    at 0x49B4ADB: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403== Locks held: none
==3458399==    by 0x126F7E: Component::handle_interest_period(Message const&) (component.h:167)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    at 0x49B4ADB: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x11AA2A: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3458403==    by 0x11BE52: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x124D62: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x124399: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x123D21: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==  Address 0x4f7f740 is 416 bytes inside a block of size 872 alloc'd
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3458403==    by 0x134184: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
==3458403== 
==3458403== Possible data race during read of size 8 at 0x4F7F740 by thread #1
==3458399==    by 0x133FCB: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458403== Locks held: none
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x12E449: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
==3458403==    at 0x49B4ACF: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458399==  Block was alloc'd by thread #1
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399== 
==3458399== Possible data race during write of size 8 at 0x4F7BB50 by thread #3
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458399== Locks held: 1, at address 0x4F7BC68
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458399==    at 0x49B4ADB: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403== Locks held: none
==3458399==    by 0x126F7E: Component::handle_interest_period(Message const&) (component.h:167)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    at 0x49B4ADB: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x11AA2A: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3458403==    by 0x11BE52: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x124D62: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x124399: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x123D21: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==  Address 0x4f7f740 is 416 bytes inside a block of size 872 alloc'd
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3458403==    by 0x134184: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:153 ===
==3458403== 
==3458403== Possible data race during write of size 8 at 0x4F7F740 by thread #1
==3458403== Locks held: none
==3458399==    by 0x12AB24: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3458403==    at 0x49B4ADB: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x11D4BA: GatewayComponent::run() (gateway_component.h:160)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x112B57: Component::thread_entry_point(void*) (component.h:306)
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458399==    by 0x4CDEA03: clone (clone.S:100)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399== 
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399== This conflicts with a previous write of size 8 by thread #5
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458399== Locks held: none
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
==3458403== Locks held: none
==3458403==    at 0x49B4ADB: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    at 0x49B4ADB: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11BE52: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x117688: Component::producer_routine() (component.h:765)
==3458399==    by 0x116AEA: Component::producer_thread_launcher(void*) (component.h:672)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458399==    by 0x4CDEA03: clone (clone.S:100)
==3458399==  Address 0x4f7bb50 is 416 bytes inside a block of size 5,824 alloc'd
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458399==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x123D21: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x133FCB: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458403==  Address 0x4f7f740 is 416 bytes inside a block of size 872 alloc'd
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x12E449: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x134184: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458399==  Block was alloc'd by thread #1
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458399== 
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
==3458403== 
==3458403== Possible data race during write of size 8 at 0x4F7F740 by thread #1
==3458403== Locks held: none
==3458399==    by 0x12AB24: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3458403==    at 0x49B4ADB: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x11D4BA: GatewayComponent::run() (gateway_component.h:160)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x112B57: Component::thread_entry_point(void*) (component.h:306)
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458399==    by 0x4CDEA03: clone (clone.S:100)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399== 
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399== This conflicts with a previous write of size 8 by thread #5
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458399== Locks held: none
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
==3458403== Locks held: none
==3458403==    at 0x49B4ADB: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    at 0x49B4ADB: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11BE52: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x117688: Component::producer_routine() (component.h:765)
==3458399==    by 0x116AEA: Component::producer_thread_launcher(void*) (component.h:672)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458399==    by 0x4CDEA03: clone (clone.S:100)
==3458399==  Address 0x4f7bb50 is 416 bytes inside a block of size 5,824 alloc'd
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458399==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x123D21: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x133FCB: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458403==  Address 0x4f7f740 is 416 bytes inside a block of size 872 alloc'd
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x12E449: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x134184: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458399==  Block was alloc'd by thread #1
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458399== 
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:153 ===
==3458403== 
==3458403== Possible data race during read of size 8 at 0x4F7F668 by thread #1
==3458403== Locks held: none
==3458403==    at 0x4999CD3: std::basic_filebuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== Locks held: none
==3458403==    at 0x49D08AE: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11BE52: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
==3458403== 
==3458403== Possible data race during read of size 8 at 0x4F7F668 by thread #1
==3458403== Locks held: none
==3458403==    at 0x4999CD3: std::basic_filebuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== Locks held: none
==3458403==    at 0x49D08AE: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11BE52: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399== ----------------------------------------------------------------

=== Issue in basic_consumer.h:165 ===
==3458403== 
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403== Possible data race during read of size 8 at 0x4F7F670 by thread #1
==3458403== Locks held: none
==3458403==    at 0x4999CD7: std::basic_filebuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
==3458403== Locks held: none
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    at 0x499B632: std::basic_filebuf<char, std::char_traits<char> >::overflow(int) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458403==    by 0x499922C: std::basic_filebuf<char, std::char_traits<char> >::sync() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C1E45: std::ostream::flush() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x11C087: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:165)
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458399==    by 0x12AB24: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3458403==    by 0x123D21: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==  Address 0x4f7f670 is 208 bytes inside a block of size 872 alloc'd
==3458399==    by 0x11D4BA: GatewayComponent::run() (gateway_component.h:160)
==3458403==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x112B57: Component::thread_entry_point(void*) (component.h:306)
==3458403==    by 0x134184: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458399==    by 0x4CDEA03: clone (clone.S:100)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==  Address 0x4f7bc68 is 696 bytes inside a block of size 5,824 alloc'd
==3458399==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x133FCB: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x12E449: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
==3458403== 
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403== Possible data race during read of size 8 at 0x4F7F670 by thread #1
==3458403== Locks held: none
==3458403==    at 0x4999CD7: std::basic_filebuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
==3458403== Locks held: none
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    at 0x499B632: std::basic_filebuf<char, std::char_traits<char> >::overflow(int) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458403==    by 0x499922C: std::basic_filebuf<char, std::char_traits<char> >::sync() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C1E45: std::ostream::flush() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x11C087: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:165)
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458399==    by 0x12AB24: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3458403==    by 0x123D21: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==  Address 0x4f7f670 is 208 bytes inside a block of size 872 alloc'd
==3458399==    by 0x11D4BA: GatewayComponent::run() (gateway_component.h:160)
==3458403==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x112B57: Component::thread_entry_point(void*) (component.h:306)
==3458403==    by 0x134184: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458399==    by 0x4CDEA03: clone (clone.S:100)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==  Address 0x4f7bc68 is 696 bytes inside a block of size 5,824 alloc'd
==3458399==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x133FCB: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x12E449: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:153 ===
==3458403== 
==3458403== Possible data race during write of size 8 at 0x4F7FCA0 by thread #1
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
==3458403== Locks held: none
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458403==    at 0x4858CC0: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==  Block was alloc'd by thread #1
==3458399== 
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399== Possible data race during read of size 8 at 0x4F7BA78 by thread #3
==3458399== Locks held: 1, at address 0x4F7BC68
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458399==    at 0x4999CD3: std::basic_filebuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458399==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
==3458403== Locks held: none
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    at 0x4858CC0: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x126F7E: Component::handle_interest_period(Message const&) (component.h:167)
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x11AA2A: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3458403==    by 0x11BE52: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x124D62: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==  Address 0x4f7fca0 is 0 bytes inside a block of size 8,192 alloc'd
==3458399==    by 0x124399: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share==3458403==    at 0x484C373: operator new[](unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==    by 0x499B023: std::basic_filebuf<char, std::char_traits<char> >::_M_allocate_internal_buffer() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x499F015: std::basic_filebuf<char, std::char_traits<char> >::open(char const*, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==    by 0x499F126: std::basic_ofstream<char, std::char_traits<char> >::open(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x114073: Component::open_log_file() (component.h:413)
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==    by 0x11B54C: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (basic_consumer.h:54)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x13419C: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
==3458403== 
==3458403== Possible data race during write of size 8 at 0x4F7FCA0 by thread #1
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
==3458403== Locks held: none
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458403==    at 0x4858CC0: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==  Block was alloc'd by thread #1
==3458399== 
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399== Possible data race during read of size 8 at 0x4F7BA78 by thread #3
==3458399== Locks held: 1, at address 0x4F7BC68
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458399==    at 0x4999CD3: std::basic_filebuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458399==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
==3458403== Locks held: none
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    at 0x4858CC0: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x126F7E: Component::handle_interest_period(Message const&) (component.h:167)
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x11AA2A: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3458403==    by 0x11BE52: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x124D62: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==  Address 0x4f7fca0 is 0 bytes inside a block of size 8,192 alloc'd
==3458399==    by 0x124399: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share==3458403==    at 0x484C373: operator new[](unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==    by 0x499B023: std::basic_filebuf<char, std::char_traits<char> >::_M_allocate_internal_buffer() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x499F015: std::basic_filebuf<char, std::char_traits<char> >::open(char const*, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==    by 0x499F126: std::basic_ofstream<char, std::char_traits<char> >::open(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x114073: Component::open_log_file() (component.h:413)
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==    by 0x11B54C: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (basic_consumer.h:54)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x13419C: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:54 ===
==3458403== 
==3458403== Possible data race during write of size 8 at 0x4F7FCA0 by thread #1
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
==3458403== Locks held: none
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458403==    at 0x4858CC0: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==  Block was alloc'd by thread #1
==3458399== 
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399== Possible data race during read of size 8 at 0x4F7BA78 by thread #3
==3458399== Locks held: 1, at address 0x4F7BC68
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458399==    at 0x4999CD3: std::basic_filebuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458399==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
==3458403== Locks held: none
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    at 0x4858CC0: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x126F7E: Component::handle_interest_period(Message const&) (component.h:167)
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x11AA2A: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3458403==    by 0x11BE52: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x124D62: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==  Address 0x4f7fca0 is 0 bytes inside a block of size 8,192 alloc'd
==3458399==    by 0x124399: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share==3458403==    at 0x484C373: operator new[](unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==    by 0x499B023: std::basic_filebuf<char, std::char_traits<char> >::_M_allocate_internal_buffer() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x499F015: std::basic_filebuf<char, std::char_traits<char> >::open(char const*, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==    by 0x499F126: std::basic_ofstream<char, std::char_traits<char> >::open(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x114073: Component::open_log_file() (component.h:413)
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==    by 0x11B54C: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (basic_consumer.h:54)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x13419C: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:153 ===
==3458403== 
==3458403== Possible data race during write of size 8 at 0x4F7F668 by thread #1
==3458403== Locks held: none
==3458399==    by 0x12AB24: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3458403==    at 0x49D08AE: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x11D4BA: GatewayComponent::run() (gateway_component.h:160)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x112B57: Component::thread_entry_point(void*) (component.h:306)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458399==    by 0x4CDEA03: clone (clone.S:100)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458399== 
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458399== This conflicts with a previous write of size 8 by thread #5
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458399== Locks held: none
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
==3458403== Locks held: none
==3458403==    at 0x49D08AE: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    at 0x49D08AE: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11BE52: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3458399==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x117688: Component::producer_routine() (component.h:765)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x116AEA: Component::producer_thread_launcher(void*) (component.h:672)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share==3458399==    by 0x4CDEA03: clone (clone.S:100)
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458399==  Address 0x4f7ba78 is 200 bytes inside a block of size 5,824 alloc'd
==3458403==    by 0x123D21: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458399==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==  Address 0x4f7f668 is 200 bytes inside a block of size 872 alloc'd
==3458403==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x134184: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x133FCB: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==    by 0x12E449: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458399==  Block was alloc'd by thread #1
==3458399== 
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
==3458403== 
==3458403== Possible data race during write of size 8 at 0x4F7F668 by thread #1
==3458403== Locks held: none
==3458399==    by 0x12AB24: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3458403==    at 0x49D08AE: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x11D4BA: GatewayComponent::run() (gateway_component.h:160)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x112B57: Component::thread_entry_point(void*) (component.h:306)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x11517A: Component::send_interest_message() (component.h:524)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458399==    by 0x4CDEA03: clone (clone.S:100)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458399== 
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458399== This conflicts with a previous write of size 8 by thread #5
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458399== Locks held: none
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 8 by thread #3
==3458403== Locks held: none
==3458403==    at 0x49D08AE: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    at 0x49D08AE: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11BE52: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:153)
==3458399==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x117688: Component::producer_routine() (component.h:765)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x116AEA: Component::producer_thread_launcher(void*) (component.h:672)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share==3458399==    by 0x4CDEA03: clone (clone.S:100)
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458399==  Address 0x4f7ba78 is 200 bytes inside a block of size 5,824 alloc'd
==3458403==    by 0x123D21: std::_Function_handler<void (Message const&), BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458399==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==  Address 0x4f7f668 is 200 bytes inside a block of size 872 alloc'd
==3458403==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x134184: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x133FCB: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==    by 0x12E449: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458399==  Block was alloc'd by thread #1
==3458399== 
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:155 ===
==3458403== 
==3458403== Possible data race during write of size 1 at 0x4F7FCB0 by thread #1
==3458403== Locks held: none
==3458403==    at 0x4858D43: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C2B64: std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C2EBA: std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11518F: Component::send_interest_message() (component.h:526)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 1 by thread #3
==3458403== Locks held: none
==3458403==    at 0x4858D43: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C2B64: std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C2EBA: std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11BE67: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:155)
==3458399== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
==3458399== 
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==  Lock at 0x4F7BC68 was first observed
==3458399==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x125840: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x126BFD: std::mutex::lock() (std_mutex.h:100)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share==3458399==    by 0x129D13: std::lock_guard<std::mutex>::lock_guard(std::mutex&) (std_mutex.h:229)
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==  Address 0x4f7fcb0 is 16 bytes inside a block of size 8,192 alloc'd
==3458399==    by 0x126DC2: Component::handle_interest_period(Message const&) (component.h:158)
==3458403==    at 0x484C373: operator new[](unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x499B023: std::basic_filebuf<char, std::char_traits<char> >::_M_allocate_internal_buffer() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x499F015: std::basic_filebuf<char, std::char_traits<char> >::open(char const*, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x11AA2A: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3458403==    by 0x499F126: std::basic_ofstream<char, std::char_traits<char> >::open(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x114073: Component::open_log_file() (component.h:413)
==3458403==    by 0x11B54C: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (basic_consumer.h:54)
==3458399==    by 0x124D62: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3458403==    by 0x13419C: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x124399: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x12AB24: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3458399==    by 0x11D4BA: GatewayComponent::run() (gateway_component.h:160)
==3458399==    by 0x112B57: Component::thread_entry_point(void*) (component.h:306)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458399==    by 0x4CDEA03: clone (clone.S:100)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==  Address 0x4f7bc68 is 696 bytes inside a block of size 5,824 alloc'd
==3458399==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x133FCB: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x12E449: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458399==  Block was alloc'd by thread #1
==3458399== 
==3458399== Possible data race during read of size 8 at 0x4F7BA80 by thread #3
==3458399== Locks held: 1, at address 0x4F7BC68
==3458399==    at 0x4999CD7: std::basic_filebuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:54 ===
==3458399== 
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==  Lock at 0x4F7BC68 was first observed
==3458399==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x125840: __gthread_mutex_lock(pthread_mutex_t*) (gthr-default.h:749)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x126BFD: std::mutex::lock() (std_mutex.h:100)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share==3458399==    by 0x129D13: std::lock_guard<std::mutex>::lock_guard(std::mutex&) (std_mutex.h:229)
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==  Address 0x4f7fcb0 is 16 bytes inside a block of size 8,192 alloc'd
==3458399==    by 0x126DC2: Component::handle_interest_period(Message const&) (component.h:158)
==3458403==    at 0x484C373: operator new[](unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x499B023: std::basic_filebuf<char, std::char_traits<char> >::_M_allocate_internal_buffer() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x499F015: std::basic_filebuf<char, std::char_traits<char> >::open(char const*, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x11AA2A: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3458403==    by 0x499F126: std::basic_ofstream<char, std::char_traits<char> >::open(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x114073: Component::open_log_file() (component.h:413)
==3458403==    by 0x11B54C: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (basic_consumer.h:54)
==3458399==    by 0x124D62: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3458403==    by 0x13419C: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x124399: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x12AB24: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3458399==    by 0x11D4BA: GatewayComponent::run() (gateway_component.h:160)
==3458399==    by 0x112B57: Component::thread_entry_point(void*) (component.h:306)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458399==    by 0x4CDEA03: clone (clone.S:100)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==  Address 0x4f7bc68 is 696 bytes inside a block of size 5,824 alloc'd
==3458399==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x133FCB: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x12E449: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458399==  Block was alloc'd by thread #1
==3458399== 
==3458399== Possible data race during read of size 8 at 0x4F7BA80 by thread #3
==3458399== Locks held: 1, at address 0x4F7BC68
==3458399==    at 0x4999CD7: std::basic_filebuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:155 ===
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== 
==3458403== Possible data race during write of size 1 at 0x4F7FCC8 by thread #1
==3458403== Locks held: none
==3458403==    at 0x4858CC0: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49B5103: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C33C9: std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x126F7E: Component::handle_interest_period(Message const&) (component.h:167)
==3458403==    by 0x115200: Component::send_interest_message() (component.h:527)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458399==    by 0x11AA2A: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 1 by thread #3
==3458403== Locks held: none
==3458403==    at 0x4858D43: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x124D62: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3458403==    by 0x49C2B64: std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49C2EBA: std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11BEA6: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:155)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x124399: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==  Address 0x4f7fcc8 is 40 bytes inside a block of size 8,192 alloc'd
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==    at 0x484C373: operator new[](unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x499B023: std::basic_filebuf<char, std::char_traits<char> >::_M_allocate_internal_buffer() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3458403==    by 0x499F015: std::basic_filebuf<char, std::char_traits<char> >::open(char const*, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x499F126: std::basic_ofstream<char, std::char_traits<char> >::open(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x114073: Component::open_log_file() (component.h:413)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458403==    by 0x11B54C: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (basic_consumer.h:54)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x13419C: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3458399==    by 0x12AB24: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3458399==    by 0x11D4BA: GatewayComponent::run() (gateway_component.h:160)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x112B57: Component::thread_entry_point(void*) (component.h:306)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:71 ===
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== 
==3458403== Possible data race during write of size 1 at 0x4F7FCC8 by thread #1
==3458403== Locks held: none
==3458403==    at 0x4858CC0: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49B5103: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C33C9: std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x126F7E: Component::handle_interest_period(Message const&) (component.h:167)
==3458403==    by 0x115200: Component::send_interest_message() (component.h:527)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458399==    by 0x11AA2A: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 1 by thread #3
==3458403== Locks held: none
==3458403==    at 0x4858D43: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x124D62: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3458403==    by 0x49C2B64: std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49C2EBA: std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11BEA6: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:155)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x124399: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==  Address 0x4f7fcc8 is 40 bytes inside a block of size 8,192 alloc'd
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==    at 0x484C373: operator new[](unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x499B023: std::basic_filebuf<char, std::char_traits<char> >::_M_allocate_internal_buffer() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3458403==    by 0x499F015: std::basic_filebuf<char, std::char_traits<char> >::open(char const*, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x499F126: std::basic_ofstream<char, std::char_traits<char> >::open(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x114073: Component::open_log_file() (component.h:413)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458403==    by 0x11B54C: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (basic_consumer.h:54)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x13419C: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3458399==    by 0x12AB24: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3458399==    by 0x11D4BA: GatewayComponent::run() (gateway_component.h:160)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x112B57: Component::thread_entry_point(void*) (component.h:306)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:54 ===
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== 
==3458403== Possible data race during write of size 1 at 0x4F7FCC8 by thread #1
==3458403== Locks held: none
==3458403==    at 0x4858CC0: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x49B4AF7: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x49C3119: std::ostream& std::ostream::_M_insert<long>(long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49B5103: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x49C33C9: std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x126F7E: Component::handle_interest_period(Message const&) (component.h:167)
==3458403==    by 0x115200: Component::send_interest_message() (component.h:527)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458399==    by 0x11AA2A: BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_producer.h:76)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 1 by thread #3
==3458403== Locks held: none
==3458403==    at 0x4858D43: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x124D62: void std::__invoke_impl<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{l==3458403==    by 0x49C2B64: std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
ambda(Message const&)#1}&, Message const&) (invoke.h:61)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49C2EBA: std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x11BEA6: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:155)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458399==    by 0x124399: std::enable_if<is_invocable_r_v<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x123C12: std::_Function_handler<void (Message const&), BasicProducer::BasicProducer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}>::_M_invoke(std::_Any_data const&, Message const&) (std_function.h:290)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==  Address 0x4f7fcc8 is 40 bytes inside a block of size 8,192 alloc'd
==3458399==    by 0x135D2E: std::function<void (Message const&)>::operator()(Message const&) const (std_function.h:590)
==3458403==    at 0x484C373: operator new[](unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x499B023: std::basic_filebuf<char, std::char_traits<char> >::_M_allocate_internal_buffer() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x130AA3: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::update(unsigned short, Buffer<Ethernet::Frame>*) (communicator.h:312)
==3458403==    by 0x499F015: std::basic_filebuf<char, std::char_traits<char> >::open(char const*, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x499F126: std::basic_ofstream<char, std::char_traits<char> >::open(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x141799: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned short>::notify(unsigned short, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x114073: Component::open_log_file() (component.h:413)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x140DF0: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::update(unsigned int, Buffer<Ethernet::Frame>*) (protocol.h:366)
==3458403==    by 0x11B54C: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (basic_consumer.h:54)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x141AB2: Conditionally_Data_Observed<Buffer<Ethernet::Frame>, unsigned int>::notify(unsigned int, Buffer<Ethernet::Frame>*) (observed.h:68)
==3458403==    by 0x13419C: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458399==    by 0x1415FC: NIC<SocketEngine, SharedMemoryEngine>::handleInternal(Buffer<Ethernet::Frame>*) (nic.h:313)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458399==    by 0x10F716: SharedMemoryEngine::send(Buffer<Ethernet::Frame>*) (sharedMemoryEngine.h:55)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399==    by 0x13675B: NIC<SocketEngine, SharedMemoryEngine>::send(Buffer<Ethernet::Frame>*) (nic.h:171)
==3458399==    by 0x131C3E: Protocol<NIC<SocketEngine, SharedMemoryEngine> >::send(Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address, void const*, unsigned int) (protocol.h:200)
==3458399==    by 0x12AB24: Communicator<Protocol<NIC<SocketEngine, SharedMemoryEngine> > >::send(Message const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >::Address const&) (communicator.h:172)
==3458399==    by 0x11D4BA: GatewayComponent::run() (gateway_component.h:160)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458399==    by 0x112B57: Component::thread_entry_point(void*) (component.h:306)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403== ----------------------------------------------------------------

=== Issue in basic_consumer.h:156 ===
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403== 
==3458403== Possible data race during write of size 2 at 0x4F7FCCC by thread #1
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458403== Locks held: none
==3458399==    by 0x4CDEA03: clone (clone.S:100)
==3458403==    at 0x4858CC0: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399== 
==3458399== This conflicts with a previous write of size 8 by thread #5
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399== Locks held: none
==3458403==    by 0x49B5103: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49C33C9: std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    at 0x499B632: std::basic_filebuf<char, std::char_traits<char> >::overflow(int) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x115200: Component::send_interest_message() (component.h:527)
==3458403==    by 0x11304E: Component::start() (component.h:337)
==3458399==    by 0x499922C: std::basic_filebuf<char, std::char_traits<char> >::sync() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x119AD8: Vehicle::start_components() (vehicle.h:215)
==3458403==    by 0x119192: Vehicle::start() (vehicle.h:148)
==3458399==    by 0x49C1E45: std::ostream::flush() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x121CFB: run_vehicle(Vehicle*) (demo.cpp:79)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403== 
==3458403== This conflicts with a previous write of size 2 by thread #3
==3458399==    by 0x1178BB: Component::producer_routine() (component.h:777)
==3458403== Locks held: none
==3458403==    at 0x4858D13: memmove (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x116AEA: Component::producer_thread_launcher(void*) (component.h:672)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49D08AD: std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x4C4DAC2: start_thread (pthread_create.c:442)
==3458403==    by 0x49B5103: std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==    by 0x4CDEA03: clone (clone.S:100)
--3458422-- warning: evaluate_Dwarf3_Expr: unhandled DW_OP_ 0x9b
==3458403==    by 0x49C33C9: std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==  Address 0x4f7ba80 is 208 bytes inside a block of size 5,824 alloc'd
==3458403==    by 0x11BEDB: BasicConsumer::handle_test_data(Message const&) (basic_consumer.h:156)
==3458399==    at 0x484B093: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458403==    by 0x11B375: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}::operator()(Message const&) const (basic_consumer.h:71)
==3458403==    by 0x124E22: void std::__invoke_impl<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(std::__invoke_other, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:61)
==3458399==    by 0x133FCB: std::_MakeUniq<BasicProducer>::__single_object std::make_unique<BasicProducer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458403==    by 0x124508: std::enable_if<is_invocable_r_v<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>, void>::type std::__invoke_r<void, BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, Share==3458399==    by 0x12E449: void Vehicle::create_component<BasicProducer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
dMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&>(BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*)::{lambda(Message const&)#1}&, Message const&) (invoke.h:111)
==3458403==  Address 0x4f7fccc is 44 bytes inside a block of size 8,192 alloc'd
==3458399==    by 0x121BA0: run_vehicle(Vehicle*) (demo.cpp:71)
==3458403==    at 0x484C373: operator new[](unsigned long) (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==3458399==    by 0x12297D: main (demo.cpp:168)
==3458403==    by 0x499B023: std::basic_filebuf<char, std::char_traits<char> >::_M_allocate_internal_buffer() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458399==  Block was alloc'd by thread #1
==3458399== 
==3458403==    by 0x499F015: std::basic_filebuf<char, std::char_traits<char> >::open(char const*, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x499F126: std::basic_ofstream<char, std::char_traits<char> >::open(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::_Ios_Openmode) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==3458403==    by 0x114073: Component::open_log_file() (component.h:413)
==3458403==    by 0x11B54C: BasicConsumer::BasicConsumer(Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*) (basic_consumer.h:54)
==3458403==    by 0x13419C: std::_MakeUniq<BasicConsumer>::__single_object std::make_unique<BasicConsumer, Vehicle*, unsigned int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*>(Vehicle*&&, unsigned int&&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, Protocol<NIC<SocketEngine, SharedMemoryEngine> >*&&) (unique_ptr.h:962)
==3458403==    by 0x12E537: void Vehicle::create_component<BasicConsumer>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (vehicle.h:175)
==3458403==    by 0x121C6A: run_vehicle(Vehicle*) (demo.cpp:75)
==3458403==    by 0x12297D: main (demo.cpp:168)
==3458403==  Block was alloc'd by thread #1
==3458403== 
==3458399== ----------------------------------------------------------------
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
... and more (use --max-errors to see more)
