{
  "map_info": {
    "name": "Map 2RSU - REQ-RESP Test",
    "description": "Two RSUs with non-overlapping domains for testing REQ-RESP key discovery"
  },
  "simulation": {
    "duration_s": 30,
    "update_interval_ms": 100,
    "default_transmission_radius_m": 500,
    "trajectory_generator_script": "scripts/trajectory_generator_map_2rsu.py"
  },
  "rsus": [
    {
      "id": 1000,
      "position": {"x": 0, "y": 0},
      "unit": 999,
      "broadcast_period_ms": 1000
    },
    {
      "id": 1001,
      "position": {"x": -501, "y": 0},
      "unit": 998,
      "broadcast_period_ms": 1000
    }
  ],
  "vehicles": {
    "default_count": 3,
    "speed_kmh": 210,
    "configs": [
      {
        "id": 1,
        "type": "stationary",
        "position": {"x": -50, "y": 50},
        "description": "Vehicle 1 - stationary near RSU1"
      },
      {
        "id": 2,
        "type": "stationary", 
        "position": {"x": 50, "y": -50},
        "description": "Vehicle 2 - stationary near RSU1"
      },
      {
        "id": 3,
        "type": "mobile",
        "start_position": {"x": -700, "y": 50},
        "end_position": {"x": -50, "y": 50},
        "description": "Vehicle 3 - drives from RSU2 domain to RSU1 domain"
      }
    ]
  },
  "waypoints": [
    {"name": "rsu1_center", "x": 0, "y": 0},
    {"name": "rsu2_center", "x": -501, "y": 0},
    {"name": "vehicle1_pos", "x": -50, "y": 50},
    {"name": "vehicle2_pos", "x": 50, "y": -50},
    {"name": "vehicle3_start", "x": -700, "y": 50},
    {"name": "vehicle3_end", "x": -50, "y": 50}
  ],
  "routes": [
    {
      "name": "vehicle3_migration", 
      "waypoints": ["vehicle3_start", "vehicle3_end"],
      "description": "Vehicle 3 path from RSU2 domain to RSU1 domain"
    }
  ],
  "logging": {
    "trajectory_dir": "tests/logs/trajectories_2rsu"
  },
  "test_scenario": {
    "name": "REQ-RESP Key Discovery",
    "description": "Vehicle 3 discovers RSU1 key through RSU2 when moving between domains",
    "expected_behavior": [
      "Vehicles 1&2 exchange INTEREST/RESPONSE messages using RSU1 key",
      "Vehicle 3 starts in RSU2 domain, receives RSU2 STATUS messages", 
      "Vehicle 3 moves towards RSU1 domain",
      "Vehicle 3 receives unauthenticated messages from Vehicles 1&2",
      "Vehicle 3 sends REQ to RSU2 for unknown key",
      "RSU2 sends RESP with RSU1 key to Vehicle 3",
      "Vehicle 3 can now authenticate messages from Vehicles 1&2"
    ]
  }
} 